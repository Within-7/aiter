# Airter åŠŸèƒ½ä¼˜åŒ–æ–¹æ¡ˆ

## éœ€æ±‚æ¦‚è¿°

### 1. æ–‡ä»¶æ ‘æµè§ˆå™¨
- **éœ€æ±‚**: å·¦ä¾§é¡¹ç›®åˆ—è¡¨æ”¯æŒå±•å¼€,æ˜¾ç¤ºæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å’Œå­æ–‡ä»¶å¤¹
- **äº¤äº’**: ç‚¹å‡»å±•å¼€/æŠ˜å ,é€’å½’æ˜¾ç¤ºç›®å½•ç»“æ„
- **æ€§èƒ½**: æ‡’åŠ è½½,é¿å…ä¸€æ¬¡æ€§åŠ è½½å…¨éƒ¨æ–‡ä»¶

### 2. æ–‡ä»¶é¢„è§ˆå’Œç¼–è¾‘
- **éœ€æ±‚**: ç‚¹å‡»æ–‡ä»¶åœ¨å³ä¾§æ‰“å¼€é¢„è§ˆ/ç¼–è¾‘çª—å£
- **æ”¯æŒç±»å‹**:
  - HTML æ–‡ä»¶: å®æ—¶é¢„è§ˆå’Œä»£ç ç¼–è¾‘
  - Markdown æ–‡ä»¶: å®æ—¶é¢„è§ˆå’Œç¼–è¾‘(å‚è€ƒmarkdown-editor.html)
  - JSON/æ–‡æœ¬æ–‡ä»¶: ä»£ç ç¼–è¾‘å™¨
  - å…¶ä»–æ–‡ä»¶: çº¯æ–‡æœ¬ç¼–è¾‘
- **ç¼–è¾‘å™¨**: é›†æˆ Monaco Editor (VS Code åŒæ¬¾)
- **ä¿å­˜**: æ”¯æŒ Ctrl/Cmd+S ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶

### 3. Git ä»“åº“ç®¡ç†
- **è‡ªåŠ¨åˆå§‹åŒ–**: æ·»åŠ é¡¹ç›®æ—¶æ£€æµ‹æ˜¯å¦æœ‰.git,æ²¡æœ‰åˆ™åˆå§‹åŒ–
- **çŠ¶æ€æ˜¾ç¤º**: æ–‡ä»¶æ ‘ä¸­æ˜¾ç¤ºæ–‡ä»¶çŠ¶æ€(å·²ä¿®æ”¹/æ–°å¢/æœªè¿½è¸ª)
- **Git æ“ä½œ**: æ˜¾ç¤ºå½“å‰åˆ†æ”¯ã€æäº¤å†å²
- **ç‰ˆæœ¬å›æ»š**: æ”¯æŒæŸ¥çœ‹ diff å’Œå›æ»šæ›´æ”¹

## æŠ€æœ¯æ–¹æ¡ˆ

### æ¶æ„è°ƒæ•´

```
åŸæ¶æ„:
Sidebar (Projects) | Terminal Tabs

æ–°æ¶æ„:
Sidebar (Project Tree) | Editor/Preview Tabs | Terminal Tabs
```

### æ•°æ®æ¨¡å‹æ‰©å±•

```typescript
interface FileNode {
  id: string
  name: string
  path: string
  type: 'file' | 'directory'
  children?: FileNode[]
  isExpanded?: boolean
  gitStatus?: 'modified' | 'added' | 'deleted' | 'untracked' | 'clean'
}

interface EditorTab {
  id: string
  filePath: string
  fileName: string
  fileType: 'html' | 'markdown' | 'json' | 'text' | 'other'
  content: string
  isDirty: boolean
  cursorPosition?: { line: number; column: number }
}

interface GitRepository {
  projectId: string
  path: string
  currentBranch: string
  isRepo: boolean
  hasChanges: boolean
}
```

### å…³é”®ä¾èµ–

```json
{
  "dependencies": {
    "@monaco-editor/react": "^4.6.0",        // Monaco Editor React åŒ…è£…
    "monaco-editor": "^0.45.0",              // Monaco Editor
    "marked": "^11.0.0",                     // Markdown è§£æ
    "dompurify": "^3.0.6",                   // XSS é˜²æŠ¤
    "highlight.js": "^11.9.0",               // ä»£ç é«˜äº®
    "chokidar": "^3.5.3",                    // æ–‡ä»¶ç›‘å¬
    "simple-git": "^3.21.0"                  // Git æ“ä½œ
  }
}
```

### ä¸»è¿›ç¨‹æ–°å¢ API

```typescript
// æ–‡ä»¶ç³»ç»Ÿ
'fs:readDir': { path: string } â†’ FileNode[]
'fs:readFile': { path: string } â†’ { content: string; encoding: string }
'fs:writeFile': { path: string; content: string } â†’ boolean
'fs:watchFile': { path: string } â†’ void
'fs:unwatchFile': { path: string } â†’ void

// Git æ“ä½œ
'git:init': { path: string } â†’ { success: boolean }
'git:status': { path: string } â†’ GitStatus
'git:getFileStatus': { path: string; file: string } â†’ FileStatus
'git:diff': { path: string; file: string } â†’ string
'git:commit': { path: string; message: string } â†’ boolean
'git:log': { path: string; limit: number } â†’ Commit[]
'git:getCurrentBranch': { path: string } â†’ string
```

### æ¸²æŸ“è¿›ç¨‹æ–°å¢ç»„ä»¶

```
src/renderer/components/
â”œâ”€â”€ FileTree/
â”‚   â”œâ”€â”€ FileTree.tsx           # æ–‡ä»¶æ ‘å®¹å™¨
â”‚   â”œâ”€â”€ FileTreeNode.tsx       # æ–‡ä»¶/æ–‡ä»¶å¤¹èŠ‚ç‚¹
â”‚   â”œâ”€â”€ FileTreeItem.tsx       # å•ä¸ªæ–‡ä»¶é¡¹
â”‚   â””â”€â”€ GitStatusIcon.tsx      # Git çŠ¶æ€å›¾æ ‡
â”œâ”€â”€ Editor/
â”‚   â”œâ”€â”€ EditorArea.tsx         # ç¼–è¾‘å™¨åŒºåŸŸ
â”‚   â”œâ”€â”€ EditorTabs.tsx         # ç¼–è¾‘å™¨æ ‡ç­¾æ 
â”‚   â”œâ”€â”€ MonacoEditor.tsx       # Monaco ç¼–è¾‘å™¨
â”‚   â”œâ”€â”€ MarkdownEditor.tsx     # Markdown ç¼–è¾‘å™¨
â”‚   â”œâ”€â”€ HTMLPreview.tsx        # HTML é¢„è§ˆ
â”‚   â””â”€â”€ FilePreview.tsx        # æ–‡ä»¶é¢„è§ˆå®¹å™¨
â””â”€â”€ GitPanel/
    â”œâ”€â”€ GitStatus.tsx          # Git çŠ¶æ€é¢æ¿
    â”œâ”€â”€ GitHistory.tsx         # æäº¤å†å²
    â””â”€â”€ GitDiff.tsx            # Diff æŸ¥çœ‹å™¨
```

## å®ç°è®¡åˆ’

### Phase 1: æ–‡ä»¶æ ‘æµè§ˆå™¨ (ä¼˜å…ˆçº§æœ€é«˜)

**ä»»åŠ¡åˆ†è§£:**
1. æ·»åŠ  fs ç›¸å…³ IPC API
2. å®ç° FileTree ç»„ä»¶
3. å®ç°é€’å½’ç›®å½•è¯»å–
4. å®ç°å±•å¼€/æŠ˜å äº¤äº’
5. å®ç°æ–‡ä»¶ç‚¹å‡»äº‹ä»¶
6. æ·»åŠ æ–‡ä»¶å›¾æ ‡å’Œç±»å‹è¯†åˆ«

**å¹¶å‘ç­–ç•¥:**
- IPC API å’Œç»„ä»¶å¼€å‘å¯å¹¶è¡Œ
- å…ˆå®ç°åŸºç¡€åŠŸèƒ½,åä¼˜åŒ–æ€§èƒ½

### Phase 2: æ–‡ä»¶é¢„è§ˆå’Œç¼–è¾‘å™¨

**ä»»åŠ¡åˆ†è§£:**
1. é›†æˆ Monaco Editor
2. å®ç° HTML é¢„è§ˆ
3. å®ç° Markdown ç¼–è¾‘å™¨
4. å®ç°æ–‡ä»¶ä¿å­˜
5. å®ç°ç¼–è¾‘å™¨æ ‡ç­¾ç®¡ç†
6. å®ç°æ–‡ä»¶ç±»å‹æ£€æµ‹å’Œè¯­æ³•é«˜äº®

**å¹¶å‘ç­–ç•¥:**
- Monaco Editor é›†æˆå’Œ Markdown ç¼–è¾‘å™¨å¯å¹¶è¡Œ
- HTML é¢„è§ˆå’Œæ–‡ä»¶ä¿å­˜å¯å¹¶è¡Œ

### Phase 3: Git é›†æˆ

**ä»»åŠ¡åˆ†è§£:**
1. æ·»åŠ  Git ç›¸å…³ä¾èµ–
2. å®ç° Git åˆå§‹åŒ–æ£€æµ‹
3. å®ç°æ–‡ä»¶çŠ¶æ€æ£€æµ‹
4. å®ç° Git çŠ¶æ€é¢æ¿
5. å®ç° Diff æŸ¥çœ‹
6. å®ç°åŸºç¡€ Git æ“ä½œ

**å¹¶å‘ç­–ç•¥:**
- Git API å’Œ UI ç»„ä»¶å¯å¹¶è¡Œ
- çŠ¶æ€æ£€æµ‹å’Œæ“ä½œåŠŸèƒ½å¯å¹¶è¡Œ

### Phase 4: æ–‡ä»¶ç›‘å¬å’Œè‡ªåŠ¨åˆ·æ–°

**ä»»åŠ¡åˆ†è§£:**
1. å®ç°æ–‡ä»¶ç›‘å¬ (chokidar)
2. å®ç°æ–‡ä»¶æ ‘è‡ªåŠ¨åˆ·æ–°
3. å®ç°ç¼–è¾‘å™¨å†…å®¹åŒæ­¥
4. ä¼˜åŒ–æ€§èƒ½å’Œå†…å­˜

## UI è®¾è®¡

### æ–°å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Airter                                       âš« âšª âšª    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Projects   â”‚ [File1] [File2] [+]     â”‚ [Term1] [Term2]   â”‚
â”‚            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [+]        â”‚                          â”‚                   â”‚
â”‚            â”‚                          â”‚                   â”‚
â”‚ â–¼ Project1 â”‚   Editor/Preview         â”‚   Terminal        â”‚
â”‚   ğŸ“ src   â”‚                          â”‚                   â”‚
â”‚   ğŸ“ dist  â”‚                          â”‚                   â”‚
â”‚   ğŸ“„ index â”‚                          â”‚                   â”‚
â”‚ â–¶ Project2 â”‚                          â”‚                   â”‚
â”‚            â”‚                          â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ–‡ä»¶æ ‘æ ·å¼

- æ–‡ä»¶å¤¹: ğŸ“ (æŠ˜å ) / ğŸ“‚ (å±•å¼€)
- æ–‡ä»¶å›¾æ ‡: æ ¹æ®ç±»å‹æ˜¾ç¤º (.jsğŸ“„ .mdğŸ“ .htmlğŸŒ .jsonğŸ“‹)
- Git çŠ¶æ€: M (å·²ä¿®æ”¹) A (æ–°å¢) D (åˆ é™¤) ? (æœªè¿½è¸ª)
- ç¼©è¿›: æ¯å±‚ 16px

### ç¼–è¾‘å™¨åŒºåŸŸ

- Monaco Editor: ä»£ç ç¼–è¾‘
- Markdown: åˆ†å±é¢„è§ˆ
- HTML: iframe é¢„è§ˆ
- æ ‡ç­¾å¯æ‹–æ‹½æ’åº
- æœªä¿å­˜æ–‡ä»¶æ ‡ç­¾æ˜¾ç¤º â—

## æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

1. **è™šæ‹Ÿæ»šåŠ¨**: å¤§å‹æ–‡ä»¶æ ‘ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
2. **æ‡’åŠ è½½**: æ–‡ä»¶å¤¹æŒ‰éœ€åŠ è½½å­èŠ‚ç‚¹
3. **é˜²æŠ–**: æ–‡ä»¶ä¿å­˜ã€æœç´¢ç­‰æ“ä½œé˜²æŠ–
4. **ç¼“å­˜**: æ–‡ä»¶å†…å®¹ç¼“å­˜,é¿å…é‡å¤è¯»å–
5. **Worker**: Git æ“ä½œåœ¨ Worker ä¸­æ‰§è¡Œ

## å¿«æ·é”®

- `Ctrl/Cmd + P`: å¿«é€Ÿæ‰“å¼€æ–‡ä»¶
- `Ctrl/Cmd + S`: ä¿å­˜å½“å‰æ–‡ä»¶
- `Ctrl/Cmd + W`: å…³é—­å½“å‰æ ‡ç­¾
- `Ctrl/Cmd + Shift + S`: å¦å­˜ä¸º
- `Ctrl/Cmd + F`: ç¼–è¾‘å™¨å†…æŸ¥æ‰¾
- `Ctrl/Cmd + H`: æŸ¥æ‰¾æ›¿æ¢

## æµ‹è¯•è®¡åˆ’

1. **æ–‡ä»¶æ ‘æµ‹è¯•**: å¤§å‹é¡¹ç›®(1000+æ–‡ä»¶)æ€§èƒ½æµ‹è¯•
2. **ç¼–è¾‘å™¨æµ‹è¯•**: å¤§æ–‡ä»¶(10MB+)ç¼–è¾‘æ€§èƒ½
3. **Git æµ‹è¯•**: ä»“åº“åˆå§‹åŒ–ã€çŠ¶æ€æ£€æµ‹ã€æ“ä½œæ­£ç¡®æ€§
4. **è·¨å¹³å°æµ‹è¯•**: macOS å’Œ Windows å…¼å®¹æ€§

## é£é™©å’ŒæŒ‘æˆ˜

1. **æ€§èƒ½**: å¤§å‹é¡¹ç›®æ–‡ä»¶æ ‘æ€§èƒ½
2. **å†…å­˜**: å¤šä¸ªç¼–è¾‘å™¨å®ä¾‹å†…å­˜å ç”¨
3. **Git**: simple-git è·¨å¹³å°å…¼å®¹æ€§
4. **ç¼–è¾‘å™¨**: Monaco Editor æ‰“åŒ…ä½“ç§¯

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨

ç«‹å³å¼€å§‹å¹¶å‘å¼€å‘:
1. åˆ›å»ºæ–‡ä»¶æ ‘ç»„ä»¶éª¨æ¶
2. æ·»åŠ æ–‡ä»¶ç³»ç»Ÿ IPC API
3. é›†æˆ Monaco Editor
4. å®ç° Git åŸºç¡€åŠŸèƒ½
